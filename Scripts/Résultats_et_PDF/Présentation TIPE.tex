\documentclass[10pt]{beamer}
%%% Pour le français %%%
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[frenchb]{babel}
%%%%%%%%%%%%%%%%%%%%%%%%
% \usepackage{fancyhdr} % En-tête et pied de page personnalisés
% \usepackage{listings} % Pour du beau code coloré
%%%% Pour des maths %%%%
\usepackage{mathtools} % Pour pleins de commandes avec des maths
\usepackage{amssymb} % Pour les symboles
\usepackage{amstext} % Pour utiliser \text
% \usepackage{mathrsfs} % 3 fonts pour les 26 lettres
% \usepackage{amsthm} % Custom des theoremes
% \usepackage{tikz} % Pour des graphiques
%%%%%%%%%%%%%%%%%%%%%%%%
% \usepackage{layout} % Pour afficher le gabarit de mise en page
% \usepackage{geometry} % Pour régler les marges
% \usepackage{setspace} % Pour modifier l'interligne
% \usepackage{ulem} % Pour souligner et barrer du texte
%%% Pour des polices %%%
% \usepackage{bookman}
% \usepackage{charter}
% \usepackage{newcent}
% \usepackage{lmodern}
% \usepackage{mathpazo}
% \usepackage{mathptmx}
%%%%%%%%%%%%%%%%%%%%%%%%
% \usepackage{url} % Pour citer des urls
% \usepackage{graphicx} % Pour travailler sur des images
% \usepackage{color} % Pour manipuler les couleurs et colorer le texte
\usepackage{enumitem}
\usepackage{tabulary}

\title[TIPE — Optimisation des transports]{TIPE \\ Optimisation des transports}
\author{ROCHER Kilian — WILLEM Logan}
\date{2020 - 2021}

\mode<presentation>

\useoutertheme[footline=authortitle]{miniframes}
\useinnertheme{circles}
\usecolortheme{whale}
\usecolortheme{orchid}

\definecolor{beamer@blendedblue}{rgb}{0.137,0.466,0.741}
\definecolor{titleColor}{RGB}{102,153,255}
\definecolor{textColor}{RGB}{60,60,60}

\setbeamercolor{titlelike}{bg=titleColor}
\setbeamercolor{titlelike}{parent=structure}
\setbeamercolor{frametitle}{fg=black}
\setbeamercolor{title}{fg=black}
\setbeamercolor{item}{fg=black}
\setbeamercolor{normal text}{fg=textColor}
\setbeamertemplate{background canvas}[vertical shading][top=cyan!7!white,bottom=cyan!2!white]
\setbeamertemplate{blocks}[rounded][shadow=true]
\setbeamercolor{prop_low}{bg=red!10,fg=black!90}
\setbeamercolor{prop_up}{fg=white,bg=red!90}
\setbeamercolor{data_low}{bg=gray!10,fg=black!90}
\setbeamercolor{data_up}{fg=white,bg=gray!90}


\begin{document}
	\begin{frame}[plain]
		\maketitle
	\end{frame}

	\begin{frame}[plain]
		\tableofcontents
	\end{frame}

	\section{Situation du problème}
	
	\subsection{Qu'est ce que l'optimisation des transports?}
	
	\begin{frame}
		 Définition et enjeux de l'optimisation des transports
		 \begin{figure}
		    \includegraphics[scale=0.4]{Interconnexions.jpg}
		 \end{figure}
	\end{frame}
	
	\subsection{Quelques exemples}
	
	\begin{frame}
		Quelques exemples de transport optimal avec images explicatives
		\begin{figure}
		   \includegraphics[scale=0.5]{Exemple_concret.png}
		\end{figure}
	\end{frame}
	
	\section{Problème de tournée des véhicules}
	
	\subsection{Contexte}
	
	\begin{frame}
		Dans ce type de problèmes, il s'agit de minimiser le coût total (en distance par exemple) de la tournée de tous les véhicules, ayant pour objectif de livrer un nombre défini de clients.
	\end{frame}

	\subsection{Variantes}
	
	\begin{frame}
		\underline{Différentes variantes du problème de tournée des véhicules}
		\begin{itemize}[label=—]
			\item Classique (VRP)\pause
			\item Contrainte de capacité (CVRP)\pause
			\item Dépôts multiples (MDVRP)\pause
			\item Retours des colis (VRPPD et VRPB)\pause
			\item \dots 
		\end{itemize}
		\ \newline On s'est intéressé à la variante classique afin de s'approprier au mieux le problème.
	\end{frame}
	
	\section{Première résolution}

	\subsection{L'algorithme de Clarke \& Wright}

	\begin{frame}
		\begin{beamerboxesrounded}[upper=data_up,lower=data_low,shadow=true]{Données}
			\begin{itemize}[label=-]
				\item Un point $D$ de coordonnées $(0,0)$ : le dépot
				\pause
				\item Une famille de points \((i_1,...,i_k) \in {(\lbrack-100,100\rbrack^2)}^k\) pour un certain $k \in \lbrack2,+\infty\lbrack$ représentant les clients
				\pause
				\item Une fonction $d$ qui calcule la distance entre deux points.
				\pause
			\end{itemize}
		\end{beamerboxesrounded}\ \newline
		\underline{Remarque} : Dans cette méthode de résolution, le nombre de véhicules n'est pas fixé. C'est l'algorithme qui décide du nombre optimal de véhicules à utiliser. 
	\end{frame}
	 
	\begin{frame}	
		\begin{definition}[Fonction \textit{gain}]
			Fonction $s$ : calcule le gain après raccord de deux routes. \\Pour deux points $i$ et $j$, $s$ calcule la différence de distance entre le chemin \\$D-i-D$ + $D-j-D$ qui vaut $2d(D,i) + 2d(j,D)$ au chemin\\$D-i-j-D$ de distance $d(D,i) + d(i,j) + d(j,D)$
		\begin{align*}
			s(i,j) &= 2d(D,i) + 2d(j,D) - \lbrack d(D,i) + d(i,j) + d(j,D)\rbrack \\
			s(i,j) &= d(D,i) + d(j,D) - d(i,j)
		\end{align*}
		\end{definition}
		\pause
		\begin{tabular}{cccc}
			\;\;\;\;\;\;\;
			&
			\includegraphics[scale=1.5]{did+djd.png}
			&
			\;\;\;\;\;\;\;	
			\pause		
			&
			\includegraphics[scale=1.5]{dijd.png}			
		\end{tabular}
	\end{frame}

   \begin{frame}
       \begin{itemize}[label=-]
          \item Étape 1:
          \item Étape 2:
	   \end{itemize}
	\end{frame}

	\begin{frame}
		\begin{figure}
			\includegraphics[scale=0.35]{Resultats/CasParfait.png}
			\caption{Résolution parfaite d'un problème}	
		\end{figure}
	\end{frame}

	\subsection{Insuffisance de l'algorithme seul}
	   
	\begin{frame}
		\begin{figure}
			\includegraphics[scale=0.35]{Resultats/Cas_avant_2-opt.png}
			\caption{Résultat non satisfaisant: 10 clients}	
		\end{figure}
	\end{frame}
	\begin{frame}
		\begin{figure}
			\includegraphics[scale=0.35]{Resultats/Cas_avant_2-opt3_distance_totale_1442,4672107499957.png}
			\caption{Résultat non satisfaisant: 20 clients}	
		\end{figure}
	\end{frame}

	\section{Amélioration}

	\subsection{Le 2-opt}

	\begin{frame}
		\begin{tabular}{cc}
				\includegraphics[scale=1.1]{Resultats/principe-2-opt.png}
				&
				\includegraphics[scale=0.2]{Resultats/2opt.png}
				\\
				\ \\Principe du 2-opt\\Suppression des liaisons sécantes
				&
				Vue générale de l'algorithme
		\end{tabular}
	\end{frame}

	\subsection{Résultats avec 2-opt}
	
	\begin{frame}
		\begin{center}
		\textbf{10 clients}
		\end{center}
		\ \newline
		\begin{tabular}{cc}
			\includegraphics[scale=0.25]{Resultats/Cas_avant_2-opt.png}
			&
			\includegraphics[scale=0.25]{Resultats/Cas_apres_2-opt.png}
			\\                                                     
			Avant&Après
		\end{tabular}
	\end{frame}
	
	\begin{frame}
		\begin{center}
			\textbf{20 clients}
		\end{center}
		\ \newline
		\begin{tabular}{cc}
			\includegraphics[scale=0.25]{Resultats/Cas_avant_2-opt3_distance_totale_1442,4672107499957.png}
			&
			\includegraphics[scale=0.25]{Resultats/Cas_apres_2-opt3_distance_totale_1402,9109633508515.png}
			\\
			Distance: 1442km&Distance: 1403km
			\\                                                     
			Avant&Après
		\end{tabular}
	\end{frame}
	
	\subsection{Complexité des algorithmes}

	\begin{frame} 
		\begin{tabular}{cc}
			\textbf{Sans 2-opt}&\textbf{Avec 2-opt}
			\\
			\ &\
			\\
			\includegraphics[scale=0.3]{Resultats/Complexite_algo_Clarke_and_Wright_x3_140000_sans_2opt.png}
			&
			\includegraphics[scale=0.3]{Resultats/Complexite_algo_Clark_and_Wright_x4_6000000.png}
			\\
			\small{$f(x) = x^3/14000$}&\small{$f(x) = x^4/6000000$}
		\end{tabular}
	\end{frame}

\end{document}